# DisasterRelief 智能合約說明

## 概述

`DisasterRelief.sol` 是 ChainBank 的災難救助金智能合約，提供透明且公平的緊急救助金發放服務。

---

## 主要功能

### 1. 救助計畫管理
- **計畫創建**：銀行/政府可創建特定災難的救助計畫
- **預算控管**：設定每個計畫的總預算和單筆發放金額
- **動態調整**：可增加預算、關閉或重開計畫

### 2. 防重複領取機制
- **一人一次**：每個地址對每個計畫只能領取一次
- **鏈上追蹤**：利用 mapping 記錄領取狀態
- **批量查詢**：支援一次查詢多個計畫的領取狀態

### 3. 自動化管理
- **預算耗盡自動關閉**：當預算不足時自動關閉計畫
- **剩餘預算追蹤**：實時顯示剩餘可發放金額
- **領取人數統計**：記錄總共發放的人數

## 計畫生命週期

```
[創建] → [開放中] → [預算不足/手動關閉] → [關閉]
                          ↓
                    [追加預算/重新開放]
                          ↓
                      [開放中]
```

### 範例情境


```
┌──────────────┐
│  NTD_TOKEN   │ ← 代幣合約（發放媒介）
└──────┬───────┘
       │
       ↓
┌──────────────┐
│DisasterRelief│ ← 救助金合約（本合約）
└──────────────┘
```

- **依賴 NTD_TOKEN**：所有救助金發放都使用 NTD_TOKEN
- **合約需持有代幣**：必須預先轉入足夠的 NTD 作為救助金池

---
